'use strict';

var howItWorksElement = document.getElementById('content-container'),
  grabbersElement = document.getElementById('grabbers'),
  Utility = {
    shuffle: function (e) {
      for (var a, s, n = e.length; n; a = parseInt(Math.random() * n), s = e[--n], e[n] = e[a], e[a] = s);
      return e;
    },
    easeInQuad: function (e, a, s, n) {
      return s * (e /= n) * e + a;
    },
    easeOutQuad: function (e, a, s, n) {
      return -s * (e /= n) * (e - 2) + a;
    },
  },
  ScrollIntoViewOptions = { behavior: 'smooth', block: 'start' },
  Customers = [
    { asset: 'images/new-images/akanksha.jpg', name: 'Akanksha' },
    { asset: 'images/new-images/anshu.jpeg', name: 'Anshu' },
    { asset: 'images/new-images/ditesh.jpeg', name: 'Ditesh' },
    { asset: 'images/new-images/hrishi.jpeg', name: 'Hrishikesh' },
    { asset: 'images/new-images/isha.jpeg', name: 'Isha' },
    { asset: 'images/jerald.jpg', name: 'Jerald' },
    { asset: 'images/new-images/karmi.png', name: 'Karmi' },
    { asset: 'images/new-images/krishna.jpeg', name: 'Krishna' },
    { asset: 'images/new-images/prem.png', name: 'Prem' },
    { asset: 'images/new-images/rachit.jpeg', name: 'Rachit' },
    { asset: 'images/new-images/rajat.jpeg', name: 'Rajat' },
    { asset: 'images/new-images/rajesh.png', name: 'Rajesh' },
    { asset: 'images/new-images/ruchika.jpeg', name: 'Ruchika' },
    { asset: 'images/new-images/sj.jpeg', name: 'Siddharth' },
    { asset: 'images/new-images/srini.jpeg', name: 'Srinivas' },
    { asset: 'images/new-images/suthen.jpeg', name: 'Suthen' },
    { asset: 'images/new-images/ling.jpg', name: 'Hooi Ling Tan' },
    { asset: 'images/new-images/vikas.jpg', name: 'Vikas' },
    { asset: 'images/new-images/ben.png', name: 'Ben' },
  ],
  slideshow = {
    getCustomers: function () {
      for (var e = 0; e < 19; e++) {
        var a = document.createElement('div'),
          s = document.createElement('img'),
          n = document.createElement('span');
        a.classList.add('icon-item'),
          a.classList.add('icon-item' + e),
          (s.src = Customers[e].asset),
          s.classList.add('icon'),
          s.classList.add('icon-img' + e),
          s.setAttribute('draggable', 'false'),
          (n.innerText = Customers[e].name),
          a.appendChild(s),
          a.appendChild(n),
          grabbersElement.appendChild(a);
      }
    },
  };
Utility.shuffle(Customers), slideshow.getCustomers();

document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
  anchor.addEventListener('click', function (e) {
    e.preventDefault();

    document.querySelector(this.getAttribute('href')).scrollIntoView({
      behavior: 'smooth',
      block: 'start',
    });
  });
});

(function () {
  var doc = document.documentElement;
  var w = document.querySelector('body');

  var prevScroll = w.scrollTop || doc.scrollTop;
  var curScroll;
  var direction = 0;
  var prevDirection = 0;

  var header = document.getElementById('header');

  var checkScroll = function () {
    /*
     ** Find the direction of scroll
     ** 0 - initial, 1 - up, 2 - down
     */

    curScroll = w.scrollTop || doc.scrollTop;
    if (curScroll > prevScroll) {
      //scrolled up
      direction = 2;
    } else if (curScroll < prevScroll) {
      //scrolled down
      direction = 1;
    }

    if (direction !== prevDirection) {
    }
    toggleHeader(direction, curScroll);

    prevScroll = curScroll;
  };

  var toggleHeader = function (direction, curScroll) {
    if (direction === 2 && curScroll > 120) {
      //replace 52 with the height of your header in px

      header.classList.remove('hide_header');
      prevDirection = direction;
    } else if (direction === 1) {
      header.classList.add('hide_header');
      prevDirection = direction;
    }
  };

  document.querySelector('body').addEventListener(
    'scroll',
    function () {
      checkScroll();
    },
    false
  );
})();
